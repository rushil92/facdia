<!doctype html>
<html>
	<head>
		<script type="text/javascript" src="./vendor/d3/d3.min.js"></script>
		<script type="text/javascript" src="./vendor/primefact.js"></script>
		<script type="text/javascript" src="./vendor/jquery-1.7.2.min.js"></script>
		<script>
			$(document).ready(function(){
				var factors = factor(
					$('#number').html());
				factors.unshift(1);
				$("#prime").html(factors[0]);
				n=$('#number').html();
				var angular_sep = 3.14*2/n;
				var radius_big = 200;
				if (n!=1)
				var radius = 2*3.14*radius_big/(3.5*n);
				else radius = radius_big;
				var dataset=[];
				var angle=0;
				if (n!=1)
				{
					for (i=0;i<n;i++)
					{
						var dataelement=[];
						dataelement[0] = Math.cos(angle)*radius_big;
						dataelement[1] = Math.sin(angle)*radius_big;
						angle = angle + angular_sep;
						dataset.push(dataelement);
						console.log(dataset[i]);
					}
				}
				else dataset[0] = [0,0];
				var w = 900;
				var h = 900;
				var centerx = w/2;
				var centery = h/2;
				for (i=0;i<dataset.length;i++)
		        {
		        	dataset[i][0] = dataset[i][0] + centerx;
		        	dataset[i][1] = dataset[i][1] + centerx;
		        	console.log(dataset[i]);
		        }
				var svg = d3.select("body")
            		.append("svg")
		            .attr("width", w)
		            .attr("height", h);
		        svg.selectAll("circle")
		        	.data(dataset)
		        	.enter()
		        	.append("circle")
		        	.attr("cx",function(d){
		        		return d[0];
		        	})
		        	.attr("cy",function(d){
		        		return d[1];
		        	})
		        	.attr("r",radius);

			});

		</script>
	</head>	
	<body>
		<p id="number">5</p>
		<p id="prime"></p>
	</body>

</html>